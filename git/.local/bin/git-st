#!/bin/bash


remote=$(git rev-parse --verify ${hook_com[branch]}@{upstream} --symbolic-full-name 2>/dev/null)
ahead=$(git rev-list ${hook_com[branch]}@{upstream}..HEAD 2>/dev/null | wc -l)
behind=$(git rev-list HEAD..${hook_com[branch]}@{upstream} 2>/dev/null | wc -l)

upstream="Upstream: "
if [[ -z "$remote" ]]; then
    upstream="$upstream $(tput setaf 3)none$(tput srg0)"
else
    (( $ahead )) && upstream="$upstream $(tput setaf 3)+$ahead$(tput srg0)"
    (( $behind )) && upstream="$upstream $(tput setaf 3)-$behind$(tput srg0)"
    [[ "$ahead" == 0 ]] && [[ "$behind" == 0 ]] && upstream="$upstream $(tput setaf 2)âœ”$(tput srg0)"
fi

echo $upstream
git status -s
