#!/usr/bin/env bash
# Run given command and notify when complete.

if [[ -z "$*" ]]; then
  echo "USAGE: $(basename $0) <command>"
  exit 1
fi

echo "==> $@"

NOTIFY_BIN="terminal-notifier -activate com.googlecode.iterm2"

if ( sh -c "$*" ); then
  $NOTIFY_BIN -message "$*" -title "âœ… Command complete"
else
  EXIT=$?
  $NOTIFY_BIN -message "$*" -title "ðŸ›‘ Command failed"
  exit $EXIT
fi
